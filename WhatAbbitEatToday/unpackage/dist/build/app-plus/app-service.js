(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-service"],{"0de9":function(t,e,n){"use strict";function i(t){var e=Object.prototype.toString.call(t);return e.substring(8,e.length-1)}function o(){return"string"===typeof __channelId__&&__channelId__}function r(t,e){switch(i(e)){case"Function":return"function() { [native code] }";default:return e}}function s(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];console[t].apply(console,n)}function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=e.shift();if(o())return e.push(e.pop().replace("at ","uni-app:///")),console[s].apply(console,e);var a=e.map((function(t){var e=Object.prototype.toString.call(t).toLowerCase();if("[object object]"===e||"[object array]"===e)try{t="---BEGIN:JSON---"+JSON.stringify(t,r)+"---END:JSON---"}catch(o){t=e}else if(null===t)t="---NULL---";else if(void 0===t)t="---UNDEFINED---";else{var n=i(t).toUpperCase();t="NUMBER"===n||"BOOLEAN"===n?"---BEGIN:"+n+"---"+t+"---END:"+n+"---":String(t)}return t})),c="";if(a.length>1){var u=a.pop();c=a.join("---COMMA---"),0===u.indexOf(" at ")?c+=u:c+="---COMMA---"+u}else c=a[0];console[s](c)}n.r(e),n.d(e,"log",(function(){return s})),n.d(e,"default",(function(){return a}))},"1dca":function(t,e,n){"use strict";n.r(e);var i=n("9b87"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=o.a},"2aff":function(t,e,n){"use strict";n.r(e);var i=n("ea05"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=o.a},"2b58":function(t,e){t.exports="/static/rabish.png"},"35f9":function(t,e,n){if("undefined"===typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){throw n}))}))}),"undefined"!==typeof uni&&uni&&uni.requireGlobal){var i=uni.requireGlobal();ArrayBuffer=i.ArrayBuffer,Int8Array=i.Int8Array,Uint8Array=i.Uint8Array,Uint8ClampedArray=i.Uint8ClampedArray,Int16Array=i.Int16Array,Uint16Array=i.Uint16Array,Int32Array=i.Int32Array,Uint32Array=i.Uint32Array,Float32Array=i.Float32Array,Float64Array=i.Float64Array,BigInt64Array=i.BigInt64Array,BigUint64Array=i.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),__definePage("pages/index/index",(function(){return Vue.extend(n("eb75").default)})),__definePage("pages/index/food",(function(){return Vue.extend(n("99d4").default)})),__definePage("pages/index/menu",(function(){return Vue.extend(n("a917").default)}))},"3fee":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","almost-lottery"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","mainDiv"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","bgDiv"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","bgDiv"),attrs:{_i:3}}),i("view",{staticClass:t._$s(4,"sc","bgDiv"),attrs:{_i:4}}),i("view",{staticClass:t._$s(5,"sc","bgDiv"),attrs:{_i:5}}),i("view",{staticClass:t._$s(6,"sc","bgDiv"),attrs:{_i:6}})]),i("view",{style:t._$s(7,"s",{marginTop:-1*t.windowHeight+"rpx"}),attrs:{_i:7}},[i("view",{staticClass:t._$s(8,"sc","almost-lottery__head"),attrs:{_i:8}},[i("view",{class:t._$s(9,"c",["action action__",t.isApple&&"action-shadow"]),attrs:{_i:9}},[i("text",{staticClass:t._$s(10,"sc","gold"),attrs:{_i:10}}),i("text",{staticClass:t._$s(11,"sc","content"),attrs:{_i:11}},[i("text",{staticClass:t._$s(12,"sc","count"),attrs:{_i:12}},[t._v(t._$s(12,"t0-0",t._s(t.countMenu)))])])])]),i("view",{staticClass:t._$s(13,"sc","almost-lottery__wheel"),attrs:{_i:13}},[i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(14,"v-show","edit"==t.showFlag),expression:"_$s(14,'v-show',showFlag=='edit')"}],attrs:{_i:14}},[i("view",[i("view"),i("view",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.editMenuName,expression:"editMenuName"}],staticClass:t._$s(18,"sc","uni-input"),attrs:{_i:18},domProps:{value:t._$s(18,"v-model",t.editMenuName)},on:{input:function(e){e.target.composing||(t.editMenuName=e.target.value)}}})])]),i("view",[i("view"),i("view")]),i("view",[i("view",[i("view",{staticClass:t._$s(24,"sc","foodDiv"),attrs:{_i:24}},t._l(t._$s(25,"f",{forItems:t.editFoodListSelect}),(function(e,n,o,r){return i("view",{key:t._$s(25,"f",{forIndex:o,key:"25-"+r}),class:t._$s("25-"+r,"c",["foodBtn",t.isApple&&"action-shadow"]),attrs:{_i:"25-"+r},on:{click:function(n){return t.delFood(e)}}},[i("text",{staticClass:t._$s("26-"+r,"sc","foodContent"),attrs:{_i:"26-"+r}},[t._v(t._$s("26-"+r,"t0-0",t._s(e)))])])})),0)]),i("view",[i("view",{staticClass:t._$s(28,"sc","foodDiv"),attrs:{_i:28}},t._l(t._$s(29,"f",{forItems:t.editFoodListUnselect}),(function(e,n,o,r){return i("view",{key:t._$s(29,"f",{forIndex:o,key:"29-"+r}),class:t._$s("29-"+r,"c",["foodBtn1",t.isApple&&"action-shadow"]),attrs:{_i:"29-"+r},on:{click:function(n){return t.addFood(e)}}},[i("text",{staticClass:t._$s("30-"+r,"sc","foodContent"),attrs:{_i:"30-"+r}},[t._v(t._$s("30-"+r,"t0-0",t._s(e)))])])})),0)])])]),i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(31,"v-show","list"==t.showFlag),expression:"_$s(31,'v-show',showFlag=='list')"}],attrs:{_i:31}},[i("view",[i("view",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputMenu,expression:"inputMenu"}],staticClass:t._$s(34,"sc","uni-input"),attrs:{_i:34},domProps:{value:t._$s(34,"v-model",t.inputMenu)},on:{input:function(e){e.target.composing||(t.inputMenu=e.target.value)}}})]),i("view",[i("view",{class:t._$s(36,"c",["smallBtn",t.isApple&&"action-shadow"]),attrs:{_i:36},on:{click:function(e){return t.addMenu()}}},[i("text",{staticClass:t._$s(37,"sc","content"),attrs:{_i:37}})])])]),i("view",t._l(t._$s(39,"f",{forItems:t.menuList}),(function(e,o,r,s){return i("view",{key:t._$s(39,"f",{forIndex:r,key:"39-"+s})},[i("view",{class:t._$s("40-"+s,"c",[0==e.foods.length?"menuBtn_":"menuBtn",t.isApple&&"action-shadow"]),attrs:{_i:"40-"+s},on:{click:function(n){return t.showEdit(e)}}},[i("text",{staticClass:t._$s("41-"+s,"sc","foodContent"),attrs:{_i:"41-"+s}},[t._v(t._$s("41-"+s,"t0-0",t._s(e.name))),i("text",{staticClass:t._$s("42-"+s,"sc","foodCount"),attrs:{_i:"42-"+s}},[t._v(t._$s("42-"+s,"t0-0",t._s(e.foods.length)))])])]),i("view",{class:t._$s("43-"+s,"c",["delBtn",t.isApple&&"action-shadow"]),attrs:{_i:"43-"+s}},[i("image",{staticClass:t._$s("44-"+s,"sc","rbsImg"),attrs:{src:t._$s("44-"+s,"a-src",n("2b58")),_i:"44-"+s},on:{click:function(n){return t.delMenu(e.id)}}})]),i("view",{class:t._$s("45-"+s,"c",["chooseBtn",t.isApple&&"action-shadow"]),attrs:{_i:"45-"+s}},[i("image",{staticClass:t._$s("46-"+s,"sc","starImg1"),attrs:{src:t._$s("46-"+s,"a-src",e.choose?"../../static/star1.png":"../../static/star2.png"),_i:"46-"+s},on:{click:function(n){return t.chooseMenu(e.id)}}})])])})),0)])])]),i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(47,"v-show","list"==t.showFlag),expression:"_$s(47,'v-show',showFlag=='list')"}],staticClass:t._$s(47,"sc","almost-lottery__head"),attrs:{_i:47}},[i("view",[i("view",{class:t._$s(49,"c",["action action1",t.isApple&&"action-shadow"]),attrs:{_i:49},on:{click:function(e){return t.returnIndex()}}},[i("text",{staticClass:t._$s(50,"sc","content"),attrs:{_i:50}})])]),i("view",[i("view",{class:t._$s(52,"c",["action action1",t.isApple&&"action-shadow"]),attrs:{_i:52},on:{click:function(e){return t.saveMenu()}}},[i("text",{staticClass:t._$s(53,"sc","content"),attrs:{_i:53}})])])]),i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(54,"v-show","edit"==t.showFlag),expression:"_$s(54,'v-show',showFlag=='edit')"}],staticClass:t._$s(54,"sc","almost-lottery__head"),attrs:{_i:54}},[i("view",[i("view",{class:t._$s(56,"c",["action action1",t.isApple&&"action-shadow"]),attrs:{_i:56},on:{click:function(e){return t.returnList()}}},[i("text",{staticClass:t._$s(57,"sc","content"),attrs:{_i:57}})])]),i("view",[i("view",{class:t._$s(59,"c",["action action1",t.isApple&&"action-shadow"]),attrs:{_i:59},on:{click:function(e){return t.saveEdit()}}},[i("text",{staticClass:t._$s(60,"sc","content"),attrs:{_i:60}})])])])])},r=[]},"4a46":function(t,e,n){"use strict";n.r(e);var i=n("79f9"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=o.a},"62b1":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("f24d")),o=n("a94b");function r(t){return t&&t.__esModule?t:{default:t}}function s(t){return l(t)||u(t)||c(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){if(t){if("string"===typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}function u(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function l(t){if(Array.isArray(t))return f(t)}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var d={name:"Home",components:{AlmostLottery:i.default},data:function(){return{redrawSign:"",windowHeight:"",eatToday:"",foodList:[],menuList:[],isDev:!0,lotteryConfig:{lotterySize:600,actionSize:200},prizeList:[],prizeIndex:-1,prizeing:!1}},computed:{isApple:function(){return"ios"===uni.getSystemInfoSync().platform}},methods:{handleDrawFinish:function(){},initFoodData:function(){var t=this;uni.getStorage({key:"foodList",success:function(e){e&&e.data&&(t.foodList=JSON.parse(e.data))}})},showPage:function(t){1==t?uni.navigateTo({url:"food"}):2==t&&uni.navigateTo({url:"menu"})},handleInitCanvas:function(){(0,o.clearCacheFile)(),(0,o.clearStore)(),this.prizeList=[],this.getPrizeList()},checkPrizeList:function(){var t=this,e=uni.getStorageSync("menuList"),n=!1;if(t.prizeList=[],e){t.menuList=JSON.parse(e);for(var i=0;i<t.menuList.length;i++)1==t.menuList[i].choose&&t.menuList[i].foods.length>0&&(n=!0)}n||0==this.menuList.length&&(this.menuList=[{id:"1",name:"\u9ed8\u8ba4\u83dc\u5355",foods:["\u70e7\u9e2d","\u70e7\u9e21","\u70e4\u5154\u817f","\u6c34\u716e\u9c7c","\u7f8a\u8089\u6c64","\u8089\u5939\u998d","\u5364\u8089\u996d","\u732a\u811a\u996d"],choose:!0}]),uni.setStorageSync("menuList",JSON.stringify(this.menuList))},getPrizeList:function(){var t=this;this.checkPrizeList();var e=uni.getStorageSync("menuList");if(e){e=JSON.parse(e),t.prizeList=[],t.menuList=e;for(var n=0;n<t.menuList.length;n++)if(1==t.menuList[n].choose&&t.menuList[n].foods.length>0)for(var i=0;i<t.menuList[n].foods.length;i++)t.prizeList.push({prizeId:i,prizeName:t.menuList[n].foods[i]})}},handleDrawStart:function(){this.prizeing=!0,this.tryLotteryDraw()},tryLotteryDraw:function(){this.remoteGetPrizeIndex()},remoteGetPrizeIndex:function(){for(var t=s(this.prizeList),e=Math.floor(Math.random()*t.length+1),n=0;n<t.length;n++){var i=t[n];if(i.prizeId===e){this.prizeIndex=n;break}}},handleDrawEnd:function(){var t=this,e=this.prizeList[this.prizeIndex].prizeName;this.eatToday=e,this.prizeIndex=-1;var n="";e.includes("\u5154")&&(n="\u5154\u5154\u90a3\u4e48\u53ef\u7231\uff0c\u600e\u4e48\u53ef\u4ee5\u5403\u5154\u5154\uff01\u574f\u86cb\uff01"),e.includes("\u7f8a")&&(n="\u597d\u8036\uff0c\u5403\u6389\u61d2\u7f8a\u7f8a\uff01"),e.includes("\u9c7c")&&(n="\u5403\u9c7c\u8089\uff01\u559d\u9c7c\u8840\uff01\u9c7c\u76ae\u5265\u4e0b\u6765\u505a\u5927\u8863\uff01"),e.includes("\u9e21")&&(n="\uff1f\u7f51\u7edc\u4e0a\u7684\u70e7\u9e21\u8fd8\u4e0d\u80fd\u6ee1\u8db3\u4f60\u5417\uff1f"),e.includes("\u8111\u82b1")&&(n="\u4e0d\u4f1a\u5427\u4e0d\u4f1a\u5427\u4e0d\u4f1a\u6709\u4eba\u5403\u8111\u82b1\u5427\u3002"),e.includes("\u54c8\u5bc6\u74dc")&&(n="\u54c8\u5bc6\u74dc\u662f\u5730\u7403\u7684\u73cd\u5b9d\u3002"),e.includes("\u5364\u8089\u996d")&&(n="\uff1f\u4f60\u5c45\u7136\u8fd8\u5403\u5364\u8089\u996d\u3002"),e.includes("\u5609\u7136")&&(n="\u5475\u5475\uff0c\u9732\u51fa\u771f\u9762\u9732\u4e86\u5427\u3002"),e.includes("\u7b54\u8fa9")&&(n="\u6211\u6ca1\u610f\u89c1\u3002");var i=(new Date).getTime()+"";"1"==i.charAt(i.length-1)&&(n="\u597d\u5403\uff0c\u591a\u5403\u70b9\uff01"),"2"==i.charAt(i.length-1)&&(n="\u5403\u5427\uff0c\u4e0d\u4f1a\u957f\u80d6\u7684\uff01"),"0"==i.charAt(i.length-1)?(n="\u559c\u6b22\uff0c\u53ef\u4ee5\u7ed9\u963f\u5154\u4e5f\u4e70\u4e00\u4efd\u5417?",uni.showModal({content:n,showCancel:!1,confirmColor:"#f1a6bd",confirmText:"\u6ca1\u6709\u95ee\u9898\uff01",complete:function(){t.prizeing=!1,uni.showModal({content:"\u963f\u5154\u7231\u4f60\uff01",showCancel:!1,confirmColor:"#f1a6bd",confirmText:"\u77e5\u9053\u5566",complete:function(){t.prizeing=!1}})}})):""!=n?uni.showModal({content:n,showCancel:!1,confirmColor:"#f1a6bd",confirmText:"\u7231\u5403",complete:function(){t.prizeing=!1}}):this.prizeing=!1,this.prizeing=!1}},onLoad:function(){},onUnload:function(){uni.hideLoading()},onShow:function(){var t=this;uni.getSystemInfo({success:function(e){t.windowHeight=e.windowHeight*(750/e.windowWidth)}}),this.redrawSign=(new Date).getTime(),this.initFoodData(),this.getPrizeList()}};e.default=d},6361:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={almostLottery:n("f24d").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","almost-lottery"),attrs:{_i:0}},[n("view",[n("view",{staticClass:t._$s(2,"sc","almost-lottery__head"),attrs:{_i:2}},[n("view",{class:t._$s(3,"c",["action",t.isApple&&"action-shadow"]),attrs:{_i:3}},[n("text",{staticClass:t._$s(4,"sc","gold"),attrs:{_i:4}}),n("text",{staticClass:t._$s(5,"sc","content"),attrs:{_i:5}},[n("text",{staticClass:t._$s(6,"sc","num"),attrs:{_i:6}},[t._v(t._$s(6,"t0-0",t._s(t.eatToday)))])])])]),n("view",{staticClass:t._$s(7,"sc","almost-lottery__wheel"),attrs:{_i:7}},[n("view"),n("view",[t._$s(10,"i",t.prizeList.length)?n("almost-lottery",{attrs:{redrawSign:t.redrawSign,"lottery-size":t.lotteryConfig.lotterySize,"action-size":t.lotteryConfig.actionSize,"ring-count":13,duration:5,"img-circled":!0,canvasCached:!0,"prize-list":t.prizeList,"prize-index":t.prizeIndex,_i:10},on:{"reset-index":function(e){t.prizeIndex=-1},"draw-start":t.handleDrawStart,"draw-end":t.handleDrawEnd,finish:t.handleDrawFinish}}):t._e()],1),n("view")]),n("view",{staticClass:t._$s(12,"sc","almost-lottery__head"),attrs:{_i:12}},[n("view",[n("view",{class:t._$s(14,"c",["action action_",t.isApple&&"action-shadow"]),attrs:{_i:14},on:{click:function(e){return t.showPage(1)}}},[n("text",{staticClass:t._$s(15,"sc","content"),attrs:{_i:15}},[n("text",{staticClass:t._$s(16,"sc","count"),attrs:{_i:16}},[t._v(t._$s(16,"t0-0",t._s(t.foodList.length)))])])])]),n("view",[n("view",{class:t._$s(18,"c",["action action_",t.isApple&&"action-shadow"]),attrs:{_i:18},on:{click:function(e){return t.showPage(2)}}},[n("text",{staticClass:t._$s(19,"sc","content"),attrs:{_i:19}},[n("text",{staticClass:t._$s(20,"sc","count"),attrs:{_i:20}},[t._v(t._$s(20,"t0-0",t._s(t.menuList.length)))])])])])])]),n("view",{staticClass:t._$s(21,"sc","mainDiv"),style:t._$s(21,"s",{marginTop:-1*t.windowHeight+"rpx"}),attrs:{_i:21}},[n("view",{staticClass:t._$s(22,"sc","bgDiv"),attrs:{_i:22}}),n("view",{staticClass:t._$s(23,"sc","bgDiv"),attrs:{_i:23}}),n("view",{staticClass:t._$s(24,"sc","bgDiv"),attrs:{_i:24}}),n("view",{staticClass:t._$s(25,"sc","bgDiv"),attrs:{_i:25}}),n("view",{staticClass:t._$s(26,"sc","bgDiv"),attrs:{_i:26}})])])},r=[]},7432:function(t,e,n){"use strict";n.r(e);var i=n("62b1"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=o.a},"79f9":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"menucrud",components:{},data:function(){return{windowHeight:"",countMenu:10,inputMenu:"",editMenuName:"",editId:"",showFlag:"list",foodList:[],editFoodListSelect:[],editFoodListUnselect:[],menuList:[]}},computed:{isApple:function(){return"ios"===uni.getSystemInfoSync().platform}},methods:{addFood:function(t){this.editFoodListSelect.includes(t)||this.editFoodListSelect.push(t);for(var e=[],n=0;n<this.editFoodListUnselect.length;n++)this.editFoodListUnselect[n]!=t&&e.push(this.editFoodListUnselect[n]);this.editFoodListUnselect=e},delFood:function(t){this.editFoodListUnselect.push(t);for(var e=[],n=0;n<this.editFoodListSelect.length;n++)this.editFoodListSelect[n]!=t&&e.push(this.editFoodListSelect[n]);this.editFoodListSelect=e},showEdit:function(t){this.showFlag="edit",this.editId=t.id,this.editMenuName=t.name+"",this.editFoodListSelect=t.foods.concat([]);for(var e=[],n=0;n<this.foodList.length;n++)t.foods.includes(this.foodList[n])||e.push(this.foodList[n]);this.editFoodListUnselect=e},returnList:function(){this.showFlag="list"},saveEdit:function(){for(var t=0;t<this.menuList.length;t++)this.menuList[t].id==this.editId&&(this.menuList[t].name=this.editMenuName,this.menuList[t].foods=this.editFoodListSelect);this.showFlag="list"},addMenu:function(){if(""!=this.inputMenu.trim()){var t={};t.id=(new Date).getTime(),t.name=this.inputMenu,t.choose=!1,t.foods=[],this.menuList.push(t)}this.inputMenu=""},delMenu:function(e){var n=this;uni.showModal({content:"\u786e\u8ba4\u8981\u5220\u9664\u6b64\u83dc\u5355\u5417\uff1f",showCancel:!1,confirmColor:"#f1a6bd",confirmText:"\u662f\u7684",complete:function(){for(var i=[],o=0;o<n.menuList.length;o++)n.menuList[o].id!=e&&i.push(n.menuList[o]);t("log",n.menuList," at pages/index/menu.vue:281"),n.menuList=i}})},chooseMenu:function(t){for(var e=0,n=0;n<this.menuList.length;n++)this.menuList[n].id==t&&(e=this.menuList[n].foods.length);if(e>0)for(n=0;n<this.menuList.length;n++)this.menuList[n].id==t?this.menuList[n].choose=!0:this.menuList[n].choose=!1},getFood:function(){var t=this;uni.getStorage({key:"foodList",success:function(e){e&&e.data&&(t.foodList=JSON.parse(e.data))}})},getMenu:function(){var t=uni.getStorageSync("menuList");t&&(t=JSON.parse(t),this.menuList=t)},saveMenu:function(){var t=this;uni.setStorage({key:"menuList",data:JSON.stringify(t.menuList),success:function(){t.returnIndex()}})},returnIndex:function(){uni.navigateBack()}},onLoad:function(){},onUnload:function(){},onShow:function(){var t=this;uni.getSystemInfo({success:function(e){t.windowHeight=e.windowHeight*(750/e.windowWidth)}}),this.getFood(),this.getMenu()}};e.default=n}).call(this,n("0de9")["default"])},"82c6":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","almost-lottery"),attrs:{_i:0}},[n("view",[n("view",[n("view",{staticClass:t._$s(3,"sc","almost-lottery__head"),attrs:{_i:3}},[n("view",{class:t._$s(4,"c",["action action__",t.isApple&&"action-shadow"]),attrs:{_i:4}},[n("text",{staticClass:t._$s(5,"sc","gold"),attrs:{_i:5}}),n("text",{staticClass:t._$s(6,"sc","content"),attrs:{_i:6}},[n("text",{staticClass:t._$s(7,"sc","count"),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s(t.foodList.length)))])])])]),n("view",{staticClass:t._$s(8,"sc","almost-lottery__wheel"),attrs:{_i:8}},[n("view",[n("view",[n("view",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputFood,expression:"inputFood"}],staticClass:t._$s(12,"sc","uni-input"),attrs:{_i:12},domProps:{value:t._$s(12,"v-model",t.inputFood)},on:{input:function(e){e.target.composing||(t.inputFood=e.target.value)}}})]),n("view",[n("view",{class:t._$s(14,"c",["smallBtn",t.isApple&&"action-shadow"]),attrs:{_i:14},on:{click:function(e){return t.addFood()}}},[n("text",{staticClass:t._$s(15,"sc","content"),attrs:{_i:15}})])])]),n("view",[n("view",{staticClass:t._$s(17,"sc","foodDiv"),attrs:{_i:17}},t._l(t._$s(18,"f",{forItems:t.foodList}),(function(e,i,o,r){return n("view",{key:t._$s(18,"f",{forIndex:o,key:"18-"+r}),class:t._$s("18-"+r,"c",["foodBtn",t.isApple&&"action-shadow"]),attrs:{_i:"18-"+r}},[n("text",{staticClass:t._$s("19-"+r,"sc","foodContent"),attrs:{_i:"19-"+r}},[t._v(t._$s("19-"+r,"t0-0",t._s(e)))]),n("text",{staticClass:t._$s("20-"+r,"sc","closeBtn"),attrs:{_i:"20-"+r},on:{click:function(n){return t.delFood(e)}}})])})),0)])])]),n("view",{staticClass:t._$s(21,"sc","almost-lottery__head"),attrs:{_i:21}},[n("view",[n("view",{class:t._$s(23,"c",["action action_",t.isApple&&"action-shadow"]),attrs:{_i:23},on:{click:function(e){return t.returnIndex()}}},[n("text",{staticClass:t._$s(24,"sc","content"),attrs:{_i:24}})])]),n("view",[n("view",{class:t._$s(26,"c",["action action_",t.isApple&&"action-shadow"]),attrs:{_i:26},on:{click:function(e){return t.saveFood()}}},[n("text",{staticClass:t._$s(27,"sc","content"),attrs:{_i:27}})])])])])]),n("view",{staticClass:t._$s(28,"sc","mainDiv"),style:t._$s(28,"s",{marginTop:-1*t.windowHeight+"rpx"}),attrs:{_i:28}},[n("view",{staticClass:t._$s(29,"sc","bgDiv"),attrs:{_i:29}}),n("view",{staticClass:t._$s(30,"sc","bgDiv"),attrs:{_i:30}}),n("view",{staticClass:t._$s(31,"sc","bgDiv"),attrs:{_i:31}}),n("view",{staticClass:t._$s(32,"sc","bgDiv"),attrs:{_i:32}}),n("view",{staticClass:t._$s(33,"sc","bgDiv"),attrs:{_i:33}})])])},r=[]},"8bbf":function(t,e){t.exports=Vue},"8bda":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","almost-lottery"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","almost-lottery__wrap"),style:t._$s(1,"s",{width:t.lotterySize+"rpx",height:t.lotterySize+"rpx"}),attrs:{_i:1}},[n("view",{staticClass:t._$s(2,"sc","lottery-action"),style:t._$s(2,"s",{width:t.actionSize+"rpx",height:t.actionSize+"rpx",left:t.canvasMarginOutside+"rpx"}),attrs:{_i:2}}),n("view",{staticClass:t._$s(3,"sc","str-margin-outside"),style:t._$s(3,"s",{left:t.strMarginOutside+"rpx"}),attrs:{_i:3}}),n("view",{staticClass:t._$s(4,"sc","img-margin-str"),style:t._$s(4,"s",{left:t.imgMarginStr+"rpx"}),attrs:{_i:4}}),n("view",{staticClass:t._$s(5,"sc","img-size"),style:t._$s(5,"s",{width:t.imgWidth+"rpx",height:t.imgHeight+"rpx"}),attrs:{_i:5}}),t._$s(6,"i",t.lotteryImg)?[n("image",{staticClass:t._$s(7,"sc","almost-lottery__bg"),style:t._$s(7,"s",{width:t.lotteryPxSize+"px",height:t.lotteryPxSize+"px"}),attrs:{src:t._$s(7,"a-src",t.lotteryBg),_i:7}}),n("image",{staticClass:t._$s(8,"sc","almost-lottery__canvas-img"),style:t._$s(8,"s",{width:t.canvasImgPxSize+"px",height:t.canvasImgPxSize+"px",left:t.canvasImgToLeftPx+"px",top:t.canvasImgToLeftPx+"px",transform:"rotate("+(t.canvasAngle+t.targetAngle)+"deg)",transitionDuration:t.transitionDuration+"s"}),attrs:{src:t._$s(8,"a-src",t.lotteryImg),_i:8}}),n("image",{staticClass:t._$s(9,"sc","almost-lottery__action-bg"),style:t._$s(9,"s",{width:t.actionPxSize+"px",height:t.actionPxSize+"px",left:t.actionBgToLeftPx+"px",top:t.actionBgToLeftPx+"px",transform:"rotate("+(t.actionAngle+t.targetActionAngle)+"deg)",transitionDuration:t.transitionDuration+"s"}),attrs:{src:t._$s(9,"a-src",t.actionBg),_i:9},on:{click:t.handleActionStart}})]:t._e()],2),n("text",{staticClass:t._$s(10,"sc","almost-lottery__measureText"),style:t._$s(10,"s",{fontSize:t.higtFontSize+"px"}),attrs:{_i:10}},[t._v(t._$s(10,"t0-0",t._s(t.measureText)))]),n("canvas",{class:t._$s(11,"c",t.className),style:t._$s(11,"s",{width:t.higtCanvasSize+"px",height:t.higtCanvasSize+"px"}),attrs:{"canvas-id":t._$s(11,"a-canvas-id",t.canvasId),width:t._$s(11,"a-width",t.higtCanvasSize),height:t._$s(11,"a-height",t.higtCanvasSize),_i:11}})])},r=[]},"8f5e":function(t,e,n){"use strict";n.r(e);var i=n("1dca");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);var r,s,a,c,u=n("f0c5"),l=Object(u["a"])(i["default"],r,s,!1,null,null,null,!1,a,c);e["default"]=l.exports},"96cf":function(t,e){!function(e){"use strict";var n,i=Object.prototype,o=i.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag",u="object"===typeof t,l=e.regeneratorRuntime;if(l)u&&(t.exports=l);else{l=e.regeneratorRuntime=u?t.exports:{},l.wrap=w;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",m={},g={};g[s]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(A([])));y&&y!==i&&o.call(y,s)&&(g=y);var _=S.prototype=F.prototype=Object.create(g);b.prototype=_.constructor=S,S.constructor=b,S[c]=b.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,S):(t.__proto__=S,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(_),t},l.awrap=function(t){return{__await:t}},L($.prototype),$.prototype[a]=function(){return this},l.AsyncIterator=$,l.async=function(t,e,n,i){var o=new $(w(t,e,n,i));return l.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},L(_),_[c]="Generator",_[s]=function(){return this},_.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},l.values=A,z.prototype={constructor:z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,o){return a.type="throw",a.arg=t,e.next=i,o&&(e.method="next",e.arg=n),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=o.call(s,"catchLoc"),u=o.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=t,s.arg=e,r?(this.method="next",this.next=r.finallyLoc,m):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:A(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=n),m}}}function w(t,e,n,i){var o=e&&e.prototype instanceof F?e:F,r=Object.create(o.prototype),s=new z(i||[]);return r._invoke=C(t,n,s),r}function x(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(i){return{type:"throw",arg:i}}}function F(){}function b(){}function S(){}function L(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function $(t){function e(n,i,r,s){var a=x(t[n],t,i);if("throw"!==a.type){var c=a.arg,u=c.value;return u&&"object"===typeof u&&o.call(u,"__await")?Promise.resolve(u.__await).then((function(t){e("next",t,r,s)}),(function(t){e("throw",t,r,s)})):Promise.resolve(u).then((function(t){c.value=t,r(c)}),(function(t){return e("throw",t,r,s)}))}s(a.arg)}var n;function i(t,i){function o(){return new Promise((function(n,o){e(t,i,n,o)}))}return n=n?n.then(o,o):o()}this._invoke=i}function C(t,e,n){var i=f;return function(o,r){if(i===h)throw new Error("Generator is already running");if(i===p){if("throw"===o)throw r;return k()}n.method=o,n.arg=r;while(1){var s=n.delegate;if(s){var a=O(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var c=x(t,e,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}function O(t,e){var i=t.iterator[e.method];if(i===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,O(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=x(i,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,m;var r=o.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,m):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function z(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function A(t){if(t){var e=t[s];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){while(++i<t.length)if(o.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=n,e.done=!0,e};return r.next=r}}return{next:k}}function k(){return{value:n,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},"99d4":function(t,e,n){"use strict";n.r(e);var i=n("82c6"),o=n("a68f");for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);var s,a=n("f0c5"),c=Object(a["a"])(o["default"],i["b"],i["c"],!1,null,"20898530",null,!1,i["a"],s);e["default"]=c.exports},"9b87":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={onLaunch:function(){t("log","App Launch"," at App.vue:4")},onShow:function(){t("log","App Show"," at App.vue:7")},onHide:function(){t("log","App Hide"," at App.vue:10")}};e.default=n}).call(this,n("0de9")["default"])},a34a:function(t,e,n){t.exports=n("bbdd")},a68f:function(t,e,n){"use strict";n.r(e);var i=n("ebfd"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=o.a},a917:function(t,e,n){"use strict";n.r(e);var i=n("3fee"),o=n("4a46");for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);var s,a=n("f0c5"),c=Object(a["a"])(o["default"],i["b"],i["c"],!1,null,"55c39aa2",null,!1,i["a"],s);e["default"]=c.exports},a94b:function(t,e,n){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.base64ToPath=e.pathToBase64=e.clearCacheFile=e.downloadFile=e.clacTextLen=e.circleImg=e.clearStore=e.getStore=e.setStore=void 0;var i=function(t,e){t&&("string"!==typeof e&&(e=JSON.stringify(e)),uni.setStorageSync(t,e))};e.setStore=i;var o=function(t){if(t)return uni.getStorageSync(t)};e.getStore=o;var r=function(e){e?uni.removeStorageSync(e):(t("log","\u6e05\u7406\u672c\u5730\u5168\u90e8\u7f13\u5b58"," at uni_modules/almost-lottery/utils/almost-utils.js:31"),uni.clearStorageSync())};e.clearStore=r;var s=function(t,e,n,i,o,r){var s=Math.floor(o/2),a=n+s,c=i+s;t.save(),t.beginPath(),t.arc(a,c,s,0,2*Math.PI),t.fill(),t.clip(),t.drawImage(e,n,i,o,r),t.restore()};e.circleImg=s;var a=function(t){if(!t)return{byteLen:0,realLen:0};t+="";for(var e=0,n=0;n<t.length;n++)t.charCodeAt(n)<0||t.charCodeAt(n)>255?e+=2:e+=1;return{byteLen:e,realLen:e/2}};e.clacTextLen=a;var c=function(t){return new Promise((function(e){uni.downloadFile({url:t,success:function(t){e({ok:!0,data:t.errMsg,tempFilePath:t.tempFilePath})},fail:function(t){e({ok:!1,data:t.errMsg,msg:"\u56fe\u7247\u4e0b\u8f7d\u5931\u8d25"})}})}))};e.downloadFile=c;var u=function(){uni.getSavedFileList({success:function(e){var n=e.fileList;if(n.length)for(var i=0;i<n.length;i++)uni.removeSavedFile({filePath:n[i].filePath,complete:function(){t("log","\u6e05\u9664\u7f13\u5b58\u5df2\u5b8c\u6210"," at uni_modules/almost-lottery/utils/almost-utils.js:121")}})},fail:function(e){t("log","getSavedFileList Fail"," at uni_modules/almost-lottery/utils/almost-utils.js:128")}})};e.clearCacheFile=u;var l=function(t){if(0===t.indexOf("_www")||0===t.indexOf("_doc")||0===t.indexOf("_documents")||0===t.indexOf("_downloads"))return t;if(0===t.indexOf("/storage/emulated/0/"))return t;if(0===t.indexOf("/storage/sdcard0/"))return t;if(0===t.indexOf("/var/mobile/"))return t;if(0===t.indexOf("file://"))return t;if(0===t.indexOf("/")){var e="iOS"===plus.os.name?t:plus.io.convertLocalFileSystemURL(t);if(e!==t)return e;t=t.substring(1)}return"_www/"+t},f=function(e){return new Promise((function(i,o){if("object"===typeof window&&"document"in window){if("function"===typeof FileReader){var r=new XMLHttpRequest;return r.open("GET",e,!0),r.responseType="blob",r.onload=function(){if(200===this.status){var t=new FileReader;t.onload=function(t){i(t.target.result)},t.onerror=o,t.readAsDataURL(this.response)}},r.onerror=o,void r.send()}var s=document.createElement("canvas"),a=s.getContext("2d"),c=new Image;return c.onload=function(){s.width=c.width,s.height=c.height,a.drawImage(c,0,0),i(s.toDataURL()),s.height=s.width=0},c.onerror=o,void(c.src=e)}if("object"!==typeof plus)"object"===typeof n&&n.canIUse("getFileSystemManager")?n.getFileSystemManager().readFile({filePath:e,encoding:"base64",success:function(t){i("data:image/png;base64,"+t.data)},fail:function(t){o(t)}}):o(new Error("not support"));else{var u=l(e);plus.io.resolveLocalFileSystemURL(u,(function(e){e.file((function(e){var n=new plus.io.FileReader;n.onload=function(t){i(t.target.result)},n.onerror=function(e){t("log",e," at uni_modules/almost-lottery/utils/almost-utils.js:212"),o(e)},n.readAsDataURL(e)}),(function(t){o(t)}))}),(function(t){o(t)}))}}))};e.pathToBase64=f;var d=function(t){return new Promise((function(e,i){if("object"===typeof window&&"document"in window){t=t.split(",");var o=t[0].match(/:(.*?);/)[1],r=atob(t[1]),s=r.length,a=new Uint8Array(s);while(s--)a[s]=r.charCodeAt(s);return e((window.URL||window.webkitURL).createObjectURL(new Blob([a],{type:o})))}var c=t.match(/data\:\S+\/(\S+);/);c?c=c[1]:i(new Error("base64 error"));var u=Date.now()+"."+c;if("object"!==typeof plus)if("object"===typeof n&&n.canIUse("getFileSystemManager")){var l=n.env.USER_DATA_PATH+"/"+u;n.getFileSystemManager().writeFile({filePath:l,data:t.replace(/^data:\S+\/\S+;base64,/,""),encoding:"base64",success:function(){e(l)},fail:function(t){i(t)}})}else i(new Error("not support"));else{var f=new plus.nativeObj.Bitmap("bitmap"+Date.now());f.loadBase64Data(t,(function(){var t="_doc/uniapp_temp/"+u;f.save(t,{},(function(){f.clear(),e(t)}),(function(t){f.clear(),i(t)}))}),(function(t){f.clear(),i(t)}))}}))};e.base64ToPath=d}).call(this,n("0de9")["default"],n("fe07")["default"])},bbdd:function(t,e,n){var i=function(){return this||"object"===typeof self&&self}()||Function("return this")(),o=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,r=o&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,t.exports=n("96cf"),o)i.regeneratorRuntime=r;else try{delete i.regeneratorRuntime}catch(s){i.regeneratorRuntime=void 0}},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}t.exports=n},ea05:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("a34a")),o=n("a94b");function r(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n,i,o,r,s){try{var a=t[r](s),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(i,o)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var r=t.apply(e,n);function a(t){s(r,i,o,a,c,"next",t)}function c(t){s(r,i,o,a,c,"throw",t)}a(void 0)}))}}var c={name:"AlmostLottery",props:{pixelRatio:{type:Number,default:2},canvasId:{type:String,default:"almostLottery"},lotterySize:{type:Number,default:600},actionSize:{type:Number,default:200},canvasMarginOutside:{type:Number,default:90},prizeList:{type:Array,required:!0,validator:function(t){return t.length>1}},prizeIndex:{type:Number,required:!0},redrawSign:{type:Number,required:!0},colors:{type:Array,default:function(){return["#FFD9D9","#f8d4de","#FFFFFF","#f8d4de","#FFFFFF","#f8d4de","#FFFFFF","#f8d4de","#FFFFFF","#f8d4de","#FFFFFF","#f8d4de","#FFFFFF","#f8d4de","#FFFFFF","#f8d4de","#FFFFFF","#f8d4de","#FFFFFF","#f8d4de","#FFFFFF","#f8d4de","#FFFFFF","#f8d4de","#FFFFFF","#f8d4de","#FFFFFF","#f8d4de","#FFFFFF"]}},lotteryBg:{type:String,default:"/uni_modules/almost-lottery/static/almost-lottery/almost-lottery__bg3x.png"},actionBg:{type:String,default:"/uni_modules/almost-lottery/static/almost-lottery/icecream.png"},prizeNameDrawed:{type:Boolean,default:!0},stroked:{type:Boolean,default:!1},strokeColor:{type:String,default:"#f1a6bd"},rotateType:{type:String,default:"roulette"},duration:{type:Number,default:10},ringCount:{type:Number,default:30},pointerPosition:{type:String,default:"edge",validator:function(t){return"edge"===t||"middle"===t}},strDirection:{type:String,default:"horizontal",validator:function(t){return"horizontal"===t||"vertical"===t}},strFontColors:{type:Array,default:function(){return["#f1a6bd","#FFFFFF","#f1a6bd","#FFFFFF","#f1a6bd","#FFFFFF","#f1a6bd","#FFFFFF","#f1a6bd","#FFFFFF","#f1a6bd","#FFFFFF","#f1a6bd","#FFFFFF","#f1a6bd","#FFFFFF","#f1a6bd","#FFFFFF","#f1a6bd","#FFFFFF","#f1a6bd","#FFFFFF","#f1a6bd","#FFFFFF","#f1a6bd","#FFFFFF","#f1a6bd","#FFFFFF","#f1a6bd","#FFFFFF"]}},strFontSize:{type:Number,default:30},strMarginOutside:{type:Number,default:50},imgMarginStr:{type:Number,default:20},strLineHeight:{type:Number,default:1.2},strMaxLen:{type:Number,default:12},strLineLen:{type:Number,default:6},imgWidth:{type:Number,default:50},imgHeight:{type:Number,default:50},imgDrawed:{type:Boolean,default:!0},imgCircled:{type:Boolean,default:!1},successMsg:{type:String,default:"\u5956\u54c1\u51c6\u5907\u5c31\u7eea\uff0c\u5feb\u6765\u53c2\u4e0e\u62bd\u5956\u5427"},failMsg:{type:String,default:"\u5956\u54c1\u4ecd\u5728\u51c6\u5907\u4e2d\uff0c\u8bf7\u7a0d\u540e\u518d\u6765..."},canvasCached:{type:Boolean,default:!1}},data:function(){return{className:"almost-lottery__canvas",systemPixelRatio:2,lotteryPxSize:0,canvasImgPxSize:0,actionPxSize:0,strMarginPxOutside:0,imgMarginPxStr:0,imgPxWidth:0,imgPxHeight:0,lotteryImg:"",targetAngle:0,targetActionAngle:0,transitionDuration:0,isRotate:!1,stayIndex:0,targetIndex:0,isCacheImg:!1,oldLotteryImg:"",measureText:""}},computed:{higtCanvasSize:function(){return this.canvasImgPxSize*this.systemPixelRatio},higtFontSize:function(){return Math.round(this.strFontSize/this.pixelRatio)*this.systemPixelRatio},higtHeightMultiple:function(){return Math.round(this.strFontSize/this.pixelRatio)*this.strLineHeight*this.systemPixelRatio},canvasImgToLeftPx:function(){return(this.lotteryPxSize-this.canvasImgPxSize)/2},actionBgToLeftPx:function(){return(this.lotteryPxSize-this.actionPxSize)/2},canvasAngle:function(){var t=0,e=this.prizeList.length,n=360/e,i=90/n;return t="edge"===this.pointerPosition||"pointer"===this.rotateType?-n*i:-(n*i+n/2),t},actionAngle:function(){return 0},outsideRadius:function(){return this.higtCanvasSize/2},insideRadius:function(){return.1*this.systemPixelRatio},textRadius:function(){return this.strMarginPxOutside*this.systemPixelRatio||this.higtFontSize/2},textDistance:function(){var t=Math.round(this.outsideRadius-this.insideRadius/2);return t-this.textRadius}},watch:{prizeIndex:function(e,n){t("log","\u65b0:"+e+"---\u65e7:"+n," at uni_modules/almost-lottery/components/almost-lottery/almost-lottery.vue:398"),e>-1?(this.targetIndex=e,this.onRotateStart()):t("info","\u65cb\u8f6c\u7ed3\u675f\uff0cprizeIndex \u5df2\u91cd\u7f6e"," at uni_modules/almost-lottery/components/almost-lottery/almost-lottery.vue:403")},redrawSign:function(t,e){this.beforeInit()}},methods:{onRotateStart:function(){var e=this;if(!this.isRotate){this.isRotate=!0;var n=this.prizeList.length,i=360/n,o=0;"pointer"===this.rotateType?(o=0===this.targetActionAngle?(this.targetIndex-this.stayIndex)*i+i/2-this.actionAngle:(this.targetIndex-this.stayIndex)*i,this.stayIndex=this.targetIndex,this.targetActionAngle+=o+360*this.ringCount,t("log","targetActionAngle",this.targetActionAngle," at uni_modules/almost-lottery/components/almost-lottery/almost-lottery.vue:437")):(o=0===this.targetAngle?270-(this.targetIndex-this.stayIndex)*i-i/2-this.canvasAngle:-(this.targetIndex-this.stayIndex)*i,this.stayIndex=this.targetIndex,this.targetAngle+=o+360*this.ringCount);var r=1e3*this.transitionDuration+100,s=setTimeout((function(){clearTimeout(s),s=null,e.isRotate=!1,e.$emit("draw-end")}),r),a=setTimeout((function(){clearTimeout(a),a=null,e.$emit("reset-index")}),r+50)}},handleActionStart:function(){this.lotteryImg&&(this.isRotate||this.$emit("draw-start"))},onCreateCanvas:function(){var e=this;return a(i.default.mark((function n(){var r,s,a,c,u,l,f,d,h,p,m,g,v,y,_,w,x,F,b,S,L,$,C,O,I,P,z,A,k,T,j,M,D,N,R,E,B,U,H,J,G;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.canvasId,s=uni.createCanvasContext(r,e),a=e.higtCanvasSize,c=e.higtCanvasSize,u=e.prizeList.length,l=2*Math.PI/u,s.setFontSize(e.higtFontSize),f=0;case 8:if(!(f<u)){n.next=125;break}if(d=e.prizeList[f],h=f*l,s.save(),s.beginPath(),s.arc(.5*a,.5*c,e.outsideRadius,h,h+l,!1),s.arc(.5*a,.5*c,e.insideRadius,h+l,h,!0),2===e.colors.length?s.setFillStyle(e.colors[f%2]):s.setFillStyle(e.colors[f]),s.fill(),e.stroked&&(s.setStrokeStyle("".concat(e.strokeColor)),s.stroke()),p=.5*a+Math.cos(h+l/2)*e.textDistance,m=.5*c+Math.sin(h+l/2)*e.textDistance,s.translate(p,m),g=e.strLimit(d.prizeName),1===e.strFontColors.length?s.setFillStyle(e.strFontColors[0]):2===e.strFontColors.length?s.setFillStyle(e.strFontColors[f%2]):s.setFillStyle(e.strFontColors[f]),s.rotate(h+l/2+Math.PI/2),"horizontal"!==e.strDirection){n.next=70;break}if(!g||!e.prizeNameDrawed){n.next=68;break}if(v=(0,o.clacTextLen)(g).realLen,y=v>e.strLineLen,!y){n.next=54;break}for(_=0,w="",x=[],F=0;F<g.length;F++)_+=(0,o.clacTextLen)(g[F]).byteLen,w+=g[F],(_===2*e.strLineLen||g.length-1===F)&&(x.push(w),_=0,w="");b=0;case 34:if(!(b<x.length)){n.next=52;break}if(!(s.measureText&&s.measureText(x[b]).width>0)){n.next=41;break}S=s.measureText(x[b]),L=-(S.width/2).toFixed(2),s.fillText(x[b],L,b*e.higtHeightMultiple),n.next=49;break;case 41:return e.measureText=x[b],n.next=44,e.$nextTick();case 44:return n.next=46,e.getTextWidth();case 46:$=n.sent,C=-($/2).toFixed(2),s.fillText(x[b],C,b*e.higtHeightMultiple);case 49:b++,n.next=34;break;case 52:n.next=68;break;case 54:if(!(s.measureText&&s.measureText(g).width>0)){n.next=60;break}O=s.measureText(g),I=-(O.width/2).toFixed(2),s.fillText(g,I,0),n.next=68;break;case 60:return e.measureText=g,n.next=63,e.$nextTick();case 63:return n.next=65,e.getTextWidth();case 65:P=n.sent,z=-(P/2).toFixed(2),s.fillText(g,z,0);case 68:n.next=90;break;case 70:A=g.split(""),k=0;case 72:if(!(k<A.length)){n.next=90;break}if(!(s.measureText&&s.measureText(A[k]).width>0)){n.next=79;break}T=s.measureText(A[k]),j=-(T.width/2).toFixed(2),s.fillText(A[k],j,k*e.higtHeightMultiple),n.next=87;break;case 79:return e.measureText=A[k],n.next=82,e.$nextTick();case 82:return n.next=84,e.getTextWidth();case 84:M=n.sent,D=-(M/2).toFixed(2),s.fillText(A[k],D,k*e.higtHeightMultiple);case 87:k++,n.next=72;break;case 90:if(!e.imgDrawed||!d.prizeImage||"vertical"===e.strDirection){n.next=121;break}if(N=/^(https|http)/g,!N.test(d.prizeImage)){n.next=110;break}return R="",R="",t("warn","###\u5f53\u524d\u6570\u636e\u5217\u8868\u4e2d\u7684\u5956\u54c1\u56fe\u7247\u4e3a\u7f51\u7edc\u56fe\u7247\uff0c".concat(R,"\u5f00\u59cb\u5c1d\u8bd5\u4e0b\u8f7d\u56fe\u7247...###")," at uni_modules/almost-lottery/components/almost-lottery/almost-lottery.vue:668"),n.next=98,(0,o.downloadFile)(d.prizeImage);case 98:if(E=n.sent,t("log","\u5904\u7406\u8fdc\u7a0b\u56fe\u7247",E," at uni_modules/almost-lottery/components/almost-lottery/almost-lottery.vue:670"),!E.ok){n.next=107;break}return B=E.tempFilePath,n.next=104,(0,o.pathToBase64)(B);case 104:d.prizeImage=n.sent,n.next=108;break;case 107:e.handlePrizeImgSuc({ok:!1,data:E.data,msg:E.msg});case 108:n.next=116;break;case 110:if(-1!==d.prizeImage.indexOf(";base64,")){n.next=116;break}return t("log","\u5f00\u59cb\u5904\u7406\u672c\u5730\u56fe\u7247",d.prizeImage," at uni_modules/almost-lottery/components/almost-lottery/almost-lottery.vue:690"),n.next=114,(0,o.pathToBase64)(d.prizeImage);case 114:d.prizeImage=n.sent,t("log","\u5904\u7406\u672c\u5730\u56fe\u7247\u7ed3\u675f",d.prizeImage," at uni_modules/almost-lottery/components/almost-lottery/almost-lottery.vue:692");case 116:U=-e.imgPxWidth*e.systemPixelRatio/2,H=e.imgMarginPxStr*e.systemPixelRatio,J=e.imgPxWidth*e.systemPixelRatio,G=e.imgPxHeight*e.systemPixelRatio,e.imgCircled?(2===e.colors.length?s.setFillStyle(e.colors[f%2]):s.setFillStyle(e.colors[f]),(0,o.circleImg)(s,d.prizeImage,U,H,J,G)):s.drawImage(d.prizeImage,U,H,J,G);case 121:s.restore();case 122:f++,n.next=8;break;case 125:s.draw(!0,(function(){var t=setTimeout((function(){clearTimeout(t),t=null,uni.canvasToTempFilePath({canvasId:e.canvasId,destWidth:e.higtCanvasSize,destHeight:e.higtCanvasSize,success:function(t){e.handlePrizeImg({ok:!0,data:t.tempFilePath,msg:"\u753b\u5e03\u5bfc\u51fa\u751f\u6210\u56fe\u7247\u6210\u529f"})},fail:function(t){e.handlePrizeImg({ok:!1,data:t,msg:"\u753b\u5e03\u5bfc\u51fa\u751f\u6210\u56fe\u7247\u5931\u8d25"})}},e)}),500)}));case 126:case"end":return n.stop()}}),n)})))()},handlePrizeImg:function(e){var n=this;if(e.ok){var i=e.data;if(!this.canvasCached)return this.lotteryImg=i,void this.handlePrizeImgSuc(e);this.isCacheImg?uni.getSavedFileList({success:function(o){var r=o.fileList,s=!1;if(r.length)for(var a=0;a<r.length;a++){var c=r[a];if(c.filePath===i){s=!0,n.lotteryImg=i,t("info","\u7ecf\u67e5\uff0c\u672c\u5730\u7f13\u5b58\u4e2d\u5b58\u5728\u7684\u8f6c\u76d8\u56fe\u53ef\u7528\uff0c\u672c\u6b21\u5c06\u4e0d\u518d\u7ed8\u5236\u8f6c\u76d8"," at uni_modules/almost-lottery/components/almost-lottery/almost-lottery.vue:807"),n.handlePrizeImgSuc(e);break}}s||(t("info","\u7ecf\u67e5\uff0c\u672c\u5730\u7f13\u5b58\u4e2d\u5b58\u5728\u7684\u8f6c\u76d8\u56fe\u4e0d\u53ef\u7528\uff0c\u9700\u8981\u91cd\u65b0\u521d\u59cb\u5316\u8f6c\u76d8\u7ed8\u5236"," at uni_modules/almost-lottery/components/almost-lottery/almost-lottery.vue:815"),n.initCanvasDraw())},fail:function(t){n.initCanvasDraw()}}):uni.saveFile({tempFilePath:i,success:function(t){var e=t.savedFilePath;(0,o.setStore)("".concat(n.canvasId,"LotteryImg"),e),n.lotteryImg=e,n.handlePrizeImgSuc({ok:!0,data:e,msg:"\u753b\u5e03\u5bfc\u51fa\u751f\u6210\u56fe\u7247\u6210\u529f"})},fail:function(t){n.handlePrizeImg({ok:!1,data:t,msg:"\u753b\u5e03\u5bfc\u51fa\u751f\u6210\u56fe\u7247\u5931\u8d25"})}})}else t("error",e.msg,e," at uni_modules/almost-lottery/components/almost-lottery/almost-lottery.vue:857")},handlePrizeImgSuc:function(t){},getTextWidth:function(){t("warn","\u6b63\u5728\u91c7\u7528\u517c\u5bb9\u65b9\u5f0f\u83b7\u53d6\u6587\u672c\u7684 size \u4fe1\u606f"," at uni_modules/almost-lottery/components/almost-lottery/almost-lottery.vue:873");var e=uni.createSelectorQuery().in(this),n=e.select(".almost-lottery__measureText");return new Promise((function(t,e){n.fields({size:!0},(function(e){t(e.width)})).exec()}))},strLimit:function(t){var e=this.strMaxLen;return t&&e&&(0,o.clacTextLen)(t).realLen>e?t.slice(0,e-1)+"..":t},checkCacheImg:function(){t("log","\u68c0\u67e5\u672c\u5730\u7f13\u5b58\u4e2d\u662f\u5426\u5b58\u5728\u8f6c\u76d8\u56fe"," at uni_modules/almost-lottery/components/almost-lottery/almost-lottery.vue:892"),this.oldLotteryImg=(0,o.getStore)("".concat(this.canvasId,"LotteryImg"));var e=(0,o.getStore)("".concat(this.canvasId,"PrizeList")),n=JSON.stringify(this.prizeList);if(this.oldLotteryImg&&e===n)return t("log","\u7ecf\u67e5\uff0c\u672c\u5730\u7f13\u5b58\u4e2d\u5b58\u5728\u8f6c\u76d8\u56fe => ".concat(this.oldLotteryImg)," at uni_modules/almost-lottery/components/almost-lottery/almost-lottery.vue:900"),this.isCacheImg=!0,t("log","\u9700\u8981\u7ee7\u7eed\u5224\u65ad\u8fd9\u5f20\u7f13\u5b58\u56fe\u662f\u5426\u53ef\u7528"," at uni_modules/almost-lottery/components/almost-lottery/almost-lottery.vue:903"),void this.handlePrizeImg({ok:!0,data:this.oldLotteryImg,msg:"\u753b\u5e03\u5bfc\u51fa\u751f\u6210\u56fe\u7247\u6210\u529f"});t("log","\u7ecf\u67e5\uff0c\u672c\u5730\u7f13\u5b58\u4e2d\u4e0d\u5b58\u5728\u8f6c\u76d8\u56fe"," at uni_modules/almost-lottery/components/almost-lottery/almost-lottery.vue:913"),this.initCanvasDraw()},initCanvasDraw:function(){t("log","\u5f00\u59cb\u521d\u59cb\u5316\u8f6c\u76d8\u7ed8\u5236"," at uni_modules/almost-lottery/components/almost-lottery/almost-lottery.vue:918"),this.isCacheImg=!1,this.lotteryImg="",(0,o.clearStore)("".concat(this.canvasId,"LotteryImg")),(0,o.setStore)("".concat(this.canvasId,"PrizeList"),this.prizeList),this.onCreateCanvas()},beforeInit:function(){var t=this;return a(i.default.mark((function e(){var n,o,r,s,a,c,u;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=uni.createSelectorQuery().in(t),e.next=3,new Promise((function(t){n.select(".almost-lottery__wrap").boundingClientRect((function(e){t(e)})).exec()}));case 3:return o=e.sent,e.next=6,new Promise((function(t){n.select(".lottery-action").boundingClientRect((function(e){t(e)})).exec()}));case 6:return r=e.sent,e.next=9,new Promise((function(t){n.select(".str-margin-outside").boundingClientRect((function(e){t(e)})).exec()}));case 9:return s=e.sent,e.next=12,new Promise((function(t){n.select(".img-margin-str").boundingClientRect((function(e){t(e)})).exec()}));case 12:return a=e.sent,e.next=15,new Promise((function(t){n.select(".img-size").boundingClientRect((function(e){t(e)})).exec()}));case 15:c=e.sent,t.lotteryPxSize=Math.floor(o.width),t.canvasImgPxSize=t.lotteryPxSize-Math.floor(r.left)+Math.floor(o.left),t.actionPxSize=Math.floor(r.width),t.strMarginPxOutside=Math.floor(s.left)-Math.floor(o.left),t.imgMarginPxStr=Math.floor(a.left)-Math.floor(o.left),t.imgPxWidth=Math.floor(c.width),t.imgPxHeight=Math.floor(c.height),u=setTimeout((function(){clearTimeout(u),u=null,t.canvasCached?t.checkCacheImg():t.initCanvasDraw(),t.transitionDuration=t.duration}),50);case 24:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;this.$nextTick((function(){var e=50,n=setTimeout((function(){clearTimeout(n),n=null,t.beforeInit()}),e)}))}};e.default=c}).call(this,n("0de9")["default"])},eb75:function(t,e,n){"use strict";n.r(e);var i=n("6361"),o=n("7432");for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);var s,a=n("f0c5"),c=Object(a["a"])(o["default"],i["b"],i["c"],!1,null,"6f8b8c19",null,!1,i["a"],s);e["default"]=c.exports},eb80:function(t,e,n){"use strict";n("35f9");var i=r(n("8bbf")),o=r(n("8f5e"));function r(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}i.default.config.productionTip=!1,o.default.mpType="app";var u=new i.default(a({},o.default));u.$mount()},ebfd:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"food",components:{},data:function(){return{windowHeight:"",inputFood:"",foodList:[],originFoodList:[]}},computed:{isApple:function(){return"ios"===uni.getSystemInfoSync().platform}},methods:{returnIndex:function(){uni.navigateBack()},getFood:function(){var t=this,e=uni.getStorageSync("foodList");e&&(t.foodList=JSON.parse(e),t.originFoodList=t.foodList.concat([]),t.countFood=t.foodList.length)},saveFood:function(){for(var t=this,e=[],n=0;n<this.originFoodList.length;n++)this.foodList.includes(this.originFoodList[n])||e.push(this.originFoodList[n]);uni.getStorage({key:"menuList",success:function(t){if(t&&t.data){for(var n=JSON.parse(t.data),i=0;i<n.length;i++){for(var o=[],r=0;r<n[i].foods.length;r++)e.includes(n[i].foods[r])||o.push(n[i].foods[r]);n[i].foods=o}uni.setStorage({key:"menuList",data:JSON.stringify(n),success:function(){}})}}}),uni.setStorage({key:"foodList",data:JSON.stringify(t.foodList),success:function(){t.returnIndex()}})},delFood:function(e){t("log","\u9700\u8981\u5220\u9664\u7684\u662f:"+e," at pages/index/food.vue:180");for(var n=[],i=0;i<this.foodList.length;i++)this.foodList[i]!=e&&n.push(this.foodList[i]);this.foodList=n},addFood:function(){var t=this;if(this.inputFood=this.inputFood.trim(),""!=this.inputFood){for(var e=!1,n=0;n<this.foodList.length;n++)this.foodList[n]==this.inputFood&&(e=!0);if(e){var i=this;uni.showModal({content:"\u5df2\u7ecf\u6dfb\u52a0\u8fc7 ["+i.inputFood+"] \u5566\uff01",showCancel:!1,confirmColor:"#f1a6bd",confirmText:"\u597d\u7684",complete:function(){t.inputFood=""}})}else this.foodList.push(this.inputFood),this.inputFood=""}}},onLoad:function(){},onUnload:function(){},onShow:function(){var t=this;uni.getSystemInfo({success:function(e){t.windowHeight=e.windowHeight*(750/e.windowWidth)}}),this.getFood()}};e.default=n}).call(this,n("0de9")["default"])},f0c5:function(t,e,n){"use strict";function i(t,e,n,i,o,r,s,a,c,u){var l,f="function"===typeof t?t.options:t;if(c){f.components||(f.components={});var d=Object.prototype.hasOwnProperty;for(var h in c)d.call(c,h)&&!d.call(f.components,h)&&(f.components[h]=c[h])}if(u&&((u.beforeCreate||(u.beforeCreate=[])).unshift((function(){this[u.__module]=this})),(f.mixins||(f.mixins=[])).push(u)),e&&(f.render=e,f.staticRenderFns=n,f._compiled=!0),i&&(f.functional=!0),r&&(f._scopeId="data-v-"+r),s?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},f._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(f.functional){f._injectStyles=l;var p=f.render;f.render=function(t,e){return l.call(e),p(t,e)}}else{var m=f.beforeCreate;f.beforeCreate=m?[].concat(m,l):[l]}return{exports:t,options:f}}n.d(e,"a",(function(){return i}))},f24d:function(t,e,n){"use strict";n.r(e);var i=n("8bda"),o=n("2aff");for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);var s,a=n("f0c5"),c=Object(a["a"])(o["default"],i["b"],i["c"],!1,null,"43bd3fd7",null,!1,i["a"],s);e["default"]=c.exports},fe07:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.Behavior=It,e.Component=Ot,e.Page=$t,e.nextTick=e.default=void 0;var i,o=r(n("8bbf"));function r(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){return d(t)||f(t,e)||u(t,e)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){if(t){if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function f(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done);i=!0)if(n.push(s.value),e&&n.length===e)break}catch(c){o=!0,r=c}finally{try{i||null==a["return"]||a["return"]()}finally{if(o)throw r}}return n}}function d(t){if(Array.isArray(t))return t}function h(t,e){t&&(e.mpOptions.data=t)}function p(e){e.components=t.__wxVueOptions.components}var m=Object.prototype.toString,g=Object.prototype.hasOwnProperty;function v(t){return"function"===typeof t}function y(t){return"[object Object]"===m.call(t)}function _(t,e){return g.call(t,e)}function w(){}function x(t){var e=Object.create(null);return function(n){var i=e[n];return i||(e[n]=t(n))}}var F=/-(\w)/g,b=x((function(t){return t.replace(F,(function(t,e){return e?e.toUpperCase():""}))})),S="__data__",L={created:"onServiceCreated",attached:"onServiceAttached",ready:"mounted",moved:"moved",detached:"destroyed"},$=Object.keys(L),C={show:"onPageShow",hide:"onPageHide",resize:"onPageResize"},O=Object.keys(C),I=["onLoad","onShow","onReady","onHide","onUnload","onPullDownRefresh","onReachBottom","onShareAppMessage","onPageScroll","onResize","onTabItemTap"];function P(t,e){var n=Object.create(null);Object.keys(t).forEach((function(e){var i=t[e];v(i)&&-1===I.indexOf(e)&&(n[e]=i)})),e.methods=n}function z(t,e){Object.keys(t).forEach((function(n){-1!==I.indexOf(n)&&(e[n]=t[n])}))}function A(t){var e={mixins:[],mpOptions:{}};return p(e),h(t.data,e),P(t,e),z(t,e),e}function k(t,e){t&&(e.mpOptions.properties=t)}function T(t,e){t&&(e.mpOptions.options=t)}function j(t,e){t&&(t.$emit&&(console.warn('Method "$emit" conflicts with an existing Vue instance method'),delete t.$emit),e.methods=t)}function M(t,e){$.forEach((function(n){_(t,n)&&(e[L[n]]||(e[L[n]]=[])).push(t[n])}))}var D={"wx://form-field":{},"wx://component-export":{}};function N(t){var e=t.behaviors,n=t.definitionFilter,i=[];if(Array.isArray(e)&&e.forEach((function(e){e="string"===typeof e?D[e]:e,e.definitionFilter&&(i.push(e.definitionFilter),e.definitionFilter.call(null,t,[]))})),v(n))return function(t){n(t,i)}}function R(t,e){N(t)}function E(t){var e=t.data,n=t.methods,i=t.behaviors,o=t.properties,r={watch:{},mpOptions:{mpObservers:[]}};return h(e,r),j(n,r),U(i,r),k(o,r),M(t,r),R(t),r}var B={"wx://form-field":{beforeCreate:function(){var t=this.$options.mpOptions;t.properties||(t.properties=Object.create(null));var e=t.properties;_(e,"name")||(e.name={type:String}),_(e,"value")||(e.value={type:String})}}};function U(t,e){t&&t.forEach((function(t){"string"===typeof t?B[t]&&e.mixins.push(B[t]):e.mixins.push(E(t))}))}function H(t){return t.split(".")}function J(t){return t.split(",").map((function(t){return H(t)}))}function G(t,e){if(t){var n=e.mpOptions.mpObservers;Object.keys(t).forEach((function(e){n.push({paths:J(e),observer:t[e]})}))}}function W(t,e){0===e.indexOf("/")&&(t="");var n=t.split("/"),i=e.split("/");n.pop();while(i.length){var o=i.shift();""!==o&&"."!==o&&(".."!==o?n.push(o):n.pop())}return n.join("/")}function V(e,n){e&&(Object.keys(e).forEach((function(n){var i=e[n];i.name=n,i.target=i.target?String(i.target):W(t.__wxRoute,n)})),n.mpOptions.relations=e)}function q(t,e){t&&(Array.isArray(t)||(t=[t]),e.mpOptions.externalClasses=t,e.mpOptions.properties||(e.mpOptions.properties=Object.create(null)),t.forEach((function(t){e.mpOptions.properties[b(t)]={type:String,value:""}})))}function X(t,e){t&&M(t,e)}function Q(t,e){t&&O.forEach((function(n){var i=t[n];v(i)&&(e[C[n]]=i)}))}function Y(t){var e=t.data,n=t.options,i=t.methods,o=t.behaviors,r=t.lifetimes,s=t.observers,a=t.relations,c=t.properties,u=t.pageLifetimes,l=t.externalClasses,f={mixins:[],props:{},watch:{},mpOptions:{mpObservers:[]}};return p(f),h(e,f),T(n,f),j(i,f),U(o,f),X(r,f),G(s,f),V(a,f),k(c,f),Q(u,f),q(l,f),M(t,f),R(t),f}function K(t,e,n,i){if(e){var o="_$".concat(t,"Handlers");(i[o]||(i[o]=[])).push((function(){e.call(i,n)}))}}function Z(t,e,n){var i="linked",o=t.name,r=n._$relationNodes||(n._$relationNodes=Object.create(null));(r[o]||(r[o]=[])).push(e),K(i,t[i],e,n)}function tt(t,e,n){var i="unlinked";K(i,t[i],e,n)}function et(t,e,n){var i=t&&t.$options.mpOptions&&t.$options.mpOptions.relations;if(!i)return[];var o=Object.keys(i).find((function(t){var o=i[t];return o.target===e&&o.type===n}));return o?[i[o],t]:[]}function nt(t,e,n){var i=n(t,t.$options.mpOptions.path),o=a(i,2),r=o[0],s=o[1];r&&(Z(r,t,s),Z(e,s,t),tt(r,t,s),tt(e,s,t))}function it(t,e){var n=t.type;"parent"===n?nt(e,t,(function(t,e){return et(t.$parent,e,"child")})):"ancestor"===n&&nt(e,t,(function(t,e){var n=t.$parent;while(n){var i=et(n,e,"descendant");if(i.length)return i;n=n.$parent}return[]}))}function ot(t){var e=t.$options.mpOptions||{},n=e.relations;n&&Object.keys(n).forEach((function(e){it(n[e],t)}))}function rt(t,e){var n=t["_$".concat(e,"Handlers")];n&&n.forEach((function(t){return t()}))}var st={enumerable:!0,configurable:!0,get:w,set:w};function at(t,e,n){st.get=function(){return this[e][n]},st.set=function(t){this[e][n]=t},Object.defineProperty(t,n,st)}function ct(t,e,n){var i=t.replace(/\[(\d+?)\]/g,".$1").split(".");return i.reduce((function(t,n,o){if(o!==i.length-1)return"undefined"===typeof t[n]&&(t[n]={}),t[n];t[n]=e}),n),1===i.length}function ut(t,e){var n=this;y(t)&&(Object.keys(t).forEach((function(e){ct(e,t[e],n.data)&&!_(n,e)&&at(n,S,e)})),this.$forceUpdate(),v(e)&&this.$nextTick(e))}var lt=Object.prototype.toString,ft=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=lt.call(n);if("[object Array]"===i)return e=n.slice(0),e;if("[object Object]"===i){for(var o in n)e[o]=t(e[o],n[o]);return e}if("[object Date]"===i)return new Date(n.getTime());if("[object RegExp]"===i){var r=String(n),s=r.lastIndexOf("/");return new RegExp(r.slice(1,s),r.slice(s+1))}return n},dt=function(t){return ft("[object Array]"===lt.call(t)?[]:{},t)},ht=(i={},s(i,String,""),s(i,Number,0),s(i,Boolean,!1),s(i,Object,null),s(i,Array,[]),s(i,null,null),i);function pt(t){return ht[t]}function mt(t){return y(t)?_(t,"value")?t.value:pt(t.type):pt(t)}function gt(t){return y(t)?t.type:t}function vt(t,e,n,i){var o=n[t];if(void 0!==o){var r=e[t],s=gt(r);o=yt(o,s);var a=r&&r.observer;return a&&setTimeout((function(){_t(a,i,o)}),4),o}return mt(e[t])}function yt(t,e){return e===Boolean?!!t:e===String?String(t):t}function _t(t,e,n,i){try{"function"===typeof t?t.call(e,n,i):"string"===typeof t&&"function"===typeof e[t]&&e[t](n,i)}catch(o){console.error("execute observer ".concat(t," callback fail! err: ").concat(o))}}function wt(t,e){var n=t.$options.mpOptions.properties;if(n){var i=dt(t.$options.propsData)||{},o=function(o){var r=!!y(n[o])&&n[o].observer,s=vt(o,n,i,t);Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){var n=s;e===s||e!==e&&s!==s||(s=Array.isArray(e)?e.slice(0):e,r&&_t(r,t,e,n),t.$forceUpdate())}})};for(var r in n)o(r)}}function xt(t){var e=t.$options.mpOptions&&t.$options.mpOptions.properties,n=t.$options.propsData;n&&e&&Object.keys(e).forEach((function(i){_(n,i)&&(t[i]=yt(n[i],gt(e[i])))}))}function Ft(t){var e=JSON.parse(JSON.stringify(t.$options.mpOptions.data||{}));t[S]=e;var n={get:function(){return t[S]},set:function(e){t[S]=e}};Object.defineProperties(t,{data:n,properties:n}),t.setData=ut,wt(t,e),Object.keys(e).forEach((function(e){at(t,S,e)}))}function bt(t){var e=t.$emit;t.triggerEvent=function(n,i,o){var r={dataset:t.$el.dataset},s={target:r,currentTarget:r,detail:i,preventDefault:w,stopPropagation:w};e.call(t,n,s)},t.$emit=function(){t.triggerEvent.apply(t,arguments)},t.getRelationNodes=function(e){return(t._$relationNodes&&t._$relationNodes[e]||[]).filter((function(t){return!t._isDestroyed}))},t._$updateProperties=xt}function St(t){var e=t.$options.watch;e&&Object.keys(e).forEach((function(n){var i=e[n];if(i.mounted){var o=t[n],r=i.handler;"string"===typeof r&&(r=t[r]),r&&r.call(t,o,o)}}))}var Lt={beforeCreate:function(){this._renderProxy=this,this._$self=this,this._$noop=w},created:function(){Ft(this),bt(this),ot(this)},mounted:function(){St(this)},destroyed:function(){rt(this,"unlinked")}};function $t(e){var n=A(e);n.mixins.unshift(Lt),n.mpOptions.path=t.__wxRoute,t.__wxComponents[t.__wxRoute]=n}function Ct(t){t.onServiceAttached||(t.onServiceAttached=[]),t.onServiceAttached.push((function(){rt(this,"linked")}))}function Ot(e){var n=Y(e);n.mixins.unshift(Lt),n.mpOptions.path=t.__wxRoute,Ct(n),t.__wxComponents[t.__wxRoute]=n}function It(t){return t}t.__wxRoute="",t.__wxComponents=Object.create(null),t.__wxVueOptions=Object.create(null);var Pt=o.default.nextTick;e.nextTick=Pt;var zt=uni.__$wx__,At=zt;e.default=At}).call(this,n("c8ba"))}},[["eb80","app-config"]]]);